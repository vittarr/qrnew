(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c82b07b2"],{"2df5":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"tag is-large",class:t.timeleft},[t._v(" "+t._s(t.timeShow)+" "),i("i",{directives:[{name:"show",rawName:"v-show",value:"red"==t.timeleft,expression:"timeleft == 'red'"}],staticClass:"material-icons icon"},[t._v("warning_amber")])])},a=[],n=i("c1df"),r=i.n(n),c={props:["timeStart","timeEnd","timeCurrent","timeWarning"],data:function(){return{moment:r.a}},computed:{timediff:function(){return r()(this.timeEnd?this.timeEnd:this.timeCurrent).diff(this.timeStart)},timeShow:function(){return r.a.utc(this.timediff).format("HH:mm:ss")},timeleft:function(){if(!this.timeEnd)return r()(this.timeEnd?this.timeEnd:this.timeCurrent).diff(this.timeStart,"minutes")>this.timeWarning?"is-danger is-light":"is-success is-light"}}},l=c,o=(i("9305"),i("2877")),u=Object(o["a"])(l,s,a,!1,null,"215b79cc",null);e["a"]=u.exports},"33d6":function(t,e,i){"use strict";i("342c")},"342c":function(t,e,i){},"619b":function(t,e,i){},"8cd7":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"section"},[i("h2",{staticClass:"title is-flex is-align-items-center"},[t._m(0),t._v(" "+t._s(t.$t("waiters.pagename"))+" ")]),i("div",{staticClass:"box"},[i("div",{staticClass:"content"},[i("h4",{staticClass:"is-uppercase"},[t._v(t._s(t.$t("waiters.subheader")))]),i("p",[t._v(" "+t._s(t.$t("waiters.description"))+" ")])])]),t.waiters&&t.waiters.length>0?i("div",{staticClass:"box"},[i("div",{staticClass:"tabs"},[i("ul",{staticClass:"ml-0"},t._l(t.tabsList,(function(e){return i("li",{key:e,class:{"is-active":e==t.tabActive},on:{click:function(i){return t.tabSelect(e)}}},[i("a",[t._v(" "+t._s(t.$t("waiters.tabs."+e))+" ")])])})),0)]),i("div",{staticClass:"table-container"},[i("table",{staticClass:"table is-hoverable is-fullwidth"},[i("thead",[i("tr",{staticClass:"is-uppercase w15"},[i("th",[t._v(t._s(t.$t("waiters.table.table")))]),i("th",[t._v(t._s(t.$t("waiters.table.client")))]),i("th",{staticClass:"w20"},[t._v(t._s(t.$t("waiters.table.time")))]),i("th",{staticClass:"w15"},[t._v(t._s(t.$t("waiters.table.control")))])])]),i("tbody",t._l(t.waitersFiltered,(function(e){return i("tr",{key:e.id},[i("td",[t._v(t._s(e.table||"no tbl"))]),i("td",[t._v(t._s(e.client))]),i("td",[i("OrderTime",{attrs:{timeEnd:e.compleatTime?e.compleatTime.toDate():t.currentTime,timeStart:e.callTime.toDate(),timeWarning:40}})],1),i("td",{staticClass:"has-text-centered"},[e.compleatTime?t._e():i("button",{staticClass:"button is-primary is-uppercase",on:{click:function(i){return t.changeWaiterState(e.id)}}},[t._v(" Compleat ")])])])})),0)])])]):i("div",{staticClass:"box"},[i("h4",{staticClass:"subtitle is-4 has-text-danger"},[t._v(" "+t._s(t.$t("waiters.emptyMessage"))+" ")])])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",{staticClass:"icon has-text-danger mr-4"},[i("i",{staticClass:"fas fa-child"})])}],n=i("1da1"),r=i("5530"),c=(i("96cf"),i("4de4"),i("2f62")),l=i("2df5"),o={name:"Waiters",data:function(){return{currentTime:new Date,tabsList:["all","notCompleated"],tabActive:"notCompleated"}},components:{OrderTime:l["a"]},computed:Object(r["a"])(Object(r["a"])({},Object(c["d"])(["waiters"])),{},{waitersFiltered:function(){return"All"==this.tabActive?this.waiters:this.waiters.filter((function(t){return!t.compleatTime}))}}),methods:{tabSelect:function(t){this.tabActive=t},changeWaiterState:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return s=e.waiters.filter((function(e){return e.id==t}))[0],console.log("changeOrderState",s),i.next=4,e.$store.dispatch("updateWaiter",Object(r["a"])(Object(r["a"])({},s),{},{compleatTime:new Date}));case 4:case"end":return i.stop()}}),i)})))()}},mounted:function(){var t=this;setInterval((function(){t.currentTime=new Date}),1e3)}},u=o,m=(i("33d6"),i("2877")),d=Object(m["a"])(u,s,a,!1,null,"2d59928f",null);e["default"]=d.exports},9305:function(t,e,i){"use strict";i("619b")}}]);
//# sourceMappingURL=chunk-c82b07b2.5a28d160.js.map