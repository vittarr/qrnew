{"version":3,"sources":["webpack:///./src/components/OrderTime.vue?b2ac","webpack:///src/components/OrderTime.vue","webpack:///./src/components/OrderTime.vue?824c","webpack:///./src/components/OrderTime.vue","webpack:///./src/views/Waiters.vue?8da9","webpack:///./src/views/Waiters.vue?90f4","webpack:///src/views/Waiters.vue","webpack:///./src/views/Waiters.vue?e4e9","webpack:///./src/views/Waiters.vue","webpack:///./src/components/OrderTime.vue?57cf"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","class","timeleft","_v","_s","timeShow","directives","name","rawName","value","expression","staticRenderFns","props","data","moment","computed","timediff","timeEnd","component","_m","$t","waiters","length","_l","tab","key","tabActive","on","$event","tabSelect","waiter","id","table","client","attrs","compleatTime","toDate","currentTime","callTime","_e","changeWaiterState","Date","tabsList","components","waitersFiltered","filter","methods","mounted","setInterval"],"mappings":"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","file":"js/chunk-c82b07b2.5a28d160.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"tag is-large\",class:_vm.timeleft},[_vm._v(\" \"+_vm._s(_vm.timeShow)+\" \"),_c('i',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.timeleft == 'red'),expression:\"timeleft == 'red'\"}],staticClass:\"material-icons icon\"},[_vm._v(\"warning_amber\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <span class=\"tag is-large\" :class=\"timeleft\">\n    {{ timeShow }}\n    <i class=\"material-icons icon\" v-show=\"timeleft == 'red'\">warning_amber</i>\n  </span>\n</template>\n\n<script>\nimport moment from \"moment\";\n\nexport default {\n  props: [\"timeStart\", \"timeEnd\", \"timeCurrent\", \"timeWarning\"],\n  data() {\n    return {\n      moment: moment,\n    };\n  },\n  computed: {\n    timediff() {\n      return moment(this.timeEnd ? this.timeEnd : this.timeCurrent).diff(\n        this.timeStart\n      );\n    },\n    timeShow() {\n      return moment.utc(this.timediff).format(\"HH:mm:ss\");\n    },\n    timeleft() {\n      if (this.timeEnd) return;\n      return moment(this.timeEnd ? this.timeEnd : this.timeCurrent).diff(\n        this.timeStart,\n        \"minutes\"\n      ) > this.timeWarning\n        ? \"is-danger is-light\"\n        : \"is-success is-light\";\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.tag {\n  width: 100%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderTime.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderTime.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./OrderTime.vue?vue&type=template&id=215b79cc&scoped=true&\"\nimport script from \"./OrderTime.vue?vue&type=script&lang=js&\"\nexport * from \"./OrderTime.vue?vue&type=script&lang=js&\"\nimport style0 from \"./OrderTime.vue?vue&type=style&index=0&id=215b79cc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"215b79cc\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Waiters.vue?vue&type=style&index=0&id=2d59928f&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"section\"},[_c('h2',{staticClass:\"title is-flex is-align-items-center\"},[_vm._m(0),_vm._v(\" \"+_vm._s(_vm.$t(\"waiters.pagename\"))+\" \")]),_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"content\"},[_c('h4',{staticClass:\"is-uppercase\"},[_vm._v(_vm._s(_vm.$t(\"waiters.subheader\")))]),_c('p',[_vm._v(\" \"+_vm._s(_vm.$t(\"waiters.description\"))+\" \")])])]),(!(_vm.waiters && _vm.waiters.length > 0))?_c('div',{staticClass:\"box\"},[_c('h4',{staticClass:\"subtitle is-4 has-text-danger\"},[_vm._v(\" \"+_vm._s(_vm.$t(\"waiters.emptyMessage\"))+\" \")])]):_c('div',{staticClass:\"box\"},[_c('div',{staticClass:\"tabs\"},[_c('ul',{staticClass:\"ml-0\"},_vm._l((_vm.tabsList),function(tab){return _c('li',{key:tab,class:{ 'is-active': tab == _vm.tabActive },on:{\"click\":function($event){return _vm.tabSelect(tab)}}},[_c('a',[_vm._v(\" \"+_vm._s(_vm.$t((\"waiters.tabs.\" + tab)))+\" \")])])}),0)]),_c('div',{staticClass:\"table-container\"},[_c('table',{staticClass:\"table is-hoverable is-fullwidth\"},[_c('thead',[_c('tr',{staticClass:\"is-uppercase w15\"},[_c('th',[_vm._v(_vm._s(_vm.$t(\"waiters.table.table\")))]),_c('th',[_vm._v(_vm._s(_vm.$t(\"waiters.table.client\")))]),_c('th',{staticClass:\"w20\"},[_vm._v(_vm._s(_vm.$t(\"waiters.table.time\")))]),_c('th',{staticClass:\"w15\"},[_vm._v(_vm._s(_vm.$t(\"waiters.table.control\")))])])]),_c('tbody',_vm._l((_vm.waitersFiltered),function(waiter){return _c('tr',{key:waiter.id},[_c('td',[_vm._v(_vm._s(waiter.table || \"no tbl\"))]),_c('td',[_vm._v(_vm._s(waiter.client))]),_c('td',[_c('OrderTime',{attrs:{\"timeEnd\":waiter.compleatTime\n                    ? waiter.compleatTime.toDate()\n                    : _vm.currentTime,\"timeStart\":waiter.callTime.toDate(),\"timeWarning\":40}})],1),_c('td',{staticClass:\"has-text-centered\"},[(!waiter.compleatTime)?_c('button',{staticClass:\"button is-primary is-uppercase\",on:{\"click\":function($event){return _vm.changeWaiterState(waiter.id)}}},[_vm._v(\" Compleat \")]):_vm._e()])])}),0)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"icon has-text-danger mr-4\"},[_c('i',{staticClass:\"fas fa-child\"})])}]\n\nexport { render, staticRenderFns }","<template>\n  <section class=\"section\">\n    <h2 class=\"title is-flex is-align-items-center\">\n      <span class=\"icon has-text-danger mr-4\">\n        <i class=\"fas fa-child\"></i>\n      </span>\n      {{ $t(\"waiters.pagename\") }}\n    </h2>\n\n    <div class=\"box\">\n      <div class=\"content\">\n        <h4 class=\"is-uppercase\">{{ $t(\"waiters.subheader\") }}</h4>\n        <p>\n          {{ $t(\"waiters.description\") }}\n        </p>\n      </div>\n    </div>\n\n    <div class=\"box\" v-if=\"!(waiters && waiters.length > 0)\">\n      <h4 class=\"subtitle is-4 has-text-danger\">\n        {{ $t(\"waiters.emptyMessage\") }}\n      </h4>\n    </div>\n\n    <div class=\"box\" v-else>\n      <div class=\"tabs\">\n        <ul class=\"ml-0\">\n          <li\n            v-for=\"tab in tabsList\"\n            :key=\"tab\"\n            :class=\"{ 'is-active': tab == tabActive }\"\n            @click=\"tabSelect(tab)\"\n          >\n            <a>\n              {{ $t(`waiters.tabs.${tab}`) }}\n            </a>\n          </li>\n        </ul>\n      </div>\n      <div class=\"table-container\">\n        <table class=\"table is-hoverable is-fullwidth\">\n          <thead>\n            <tr class=\"is-uppercase w15\">\n              <th>{{ $t(\"waiters.table.table\") }}</th>\n              <th>{{ $t(\"waiters.table.client\") }}</th>\n              <th class=\"w20\">{{ $t(\"waiters.table.time\") }}</th>\n              <th class=\"w15\">{{ $t(\"waiters.table.control\") }}</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"waiter in waitersFiltered\" :key=\"waiter.id\">\n              <td>{{ waiter.table || \"no tbl\" }}</td>\n              <td>{{ waiter.client }}</td>\n              <td>\n                <OrderTime\n                  :timeEnd=\"\n                    waiter.compleatTime\n                      ? waiter.compleatTime.toDate()\n                      : currentTime\n                  \"\n                  :timeStart=\"waiter.callTime.toDate()\"\n                  :timeWarning=\"40\"\n                />\n              </td>\n              <td class=\"has-text-centered\">\n                <button\n                  v-if=\"!waiter.compleatTime\"\n                  @click=\"changeWaiterState(waiter.id)\"\n                  class=\"button is-primary is-uppercase\"\n                >\n                  Compleat\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport { mapState } from \"vuex\";\nimport OrderTime from \"@/components/OrderTime\";\n\nexport default {\n  name: \"Waiters\",\n  data() {\n    return {\n      currentTime: new Date(),\n      tabsList: [\"all\", \"notCompleated\"],\n      tabActive: \"notCompleated\",\n    };\n  },\n  components: { OrderTime },\n  computed: {\n    ...mapState([\"waiters\"]),\n    waitersFiltered() {\n      if (this.tabActive == \"All\") {\n        return this.waiters;\n      } else {\n        return this.waiters.filter((item) => !item.compleatTime);\n      }\n    },\n  },\n  methods: {\n    tabSelect(tab) {\n      this.tabActive = tab;\n    },\n    async changeWaiterState(id) {\n      const currentWaiter = this.waiters.filter((item) => item.id == id)[0];\n      console.log(\"changeOrderState\", currentWaiter);\n\n      await this.$store.dispatch(\"updateWaiter\", {\n        ...currentWaiter,\n        compleatTime: new Date(),\n      });\n    },\n  },\n  mounted() {\n    setInterval(() => {\n      this.currentTime = new Date();\n    }, 1000);\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.w10 {\n  width: 10%;\n}\n.w15 {\n  width: 15%;\n}\n.w20 {\n  width: 20%;\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Waiters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Waiters.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Waiters.vue?vue&type=template&id=2d59928f&scoped=true&\"\nimport script from \"./Waiters.vue?vue&type=script&lang=js&\"\nexport * from \"./Waiters.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Waiters.vue?vue&type=style&index=0&id=2d59928f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d59928f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OrderTime.vue?vue&type=style&index=0&id=215b79cc&lang=scss&scoped=true&\""],"sourceRoot":""}